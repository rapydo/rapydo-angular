
<div class='container-fluid'>
<div class="row justify-content-md-center">
<div class='col-12'>

<div class='card'>
<div class='card-header'>
	<h4>
		<i class='fa fa-users'></i> Sessions list
	</h4>
</div>

<div class='card-block'>

<div class="table-responsive">

	<div class='container-fluid'>
	<div class='row'>
		<div class='col-6'>
			<input 
				type='text'
				style='padding:8px; margin-bottom:15px;'
				class='form-control'
				placeholder='Type to filter sessions'
				(keyup)='updateFilter($event)'
			>
		</div>
	</div>
	</div>
	<div class="table-wrapper" #tableWrapper>
	<ngx-spinner [fullScreen] = "false"></ngx-spinner>
	<ngx-datatable
        class="bootstrap"
        [rows]="data"
        [columns]="columns"
		[columnMode]="ColumnMode.flex"
        [headerHeight]="40"
        [footerHeight]="40"
        [limit]="paging.itemsPerPage"
        [rowHeight]="'auto'">
	</ngx-datatable>
	</div>

</div>

	<ng-template #dataDate let-row="row" let-value="value" let-i="index">

        <span 
            ngbTooltip="{{1000*value | date : 'yyyy MMM dd HH:mm:ss'}}"
            >
            {{value | amFromUnix | amTimeAgo:false}}
        </span>

	</ng-template>

	<ng-template #dataRevoke let-row="row" let-value="value" let-i="index">

        <span *ngIf="currentToken != row['token']; else activeCurrent">
            <i 
                class='fa fa-trash fa-large' style='color:red;'
                mwlConfirmationPopover
                [popoverTitle]="'Confirmation required'"
                [popoverMessage]="'Are you really sure you want to close this session?'"
                placement="left"
                (confirm)="remove(value)"
            ></i>
        </span>
        <ng-template #activeCurrent>
        <td>-</td>
        </ng-template>

	</ng-template>

	<ng-template #dataToken let-row="row" let-value="value" let-i="index">

        <i class='fa fa-clipboard fa-large'
            ngxClipboard [cbContent]="value"
            (cbOnSuccess)="copied($event)"
            ngbTooltip="Copy token to clipboard"
        ></i>

	</ng-template>



</div>
</div>

</div>
</div>
</div>