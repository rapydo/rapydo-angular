
<div class='container-fluid'>
<div class="row justify-content-md-center" *ngIf="user">
<div class='col-12 col-lg-8'>

<div class='card'>
<div class='card-header'>
    <h4><i class='fa fa-user-circle-o'></i> User profile</h4>
</div>

<div class='card-block'>
<div class="table-responsive">
	<table class='table'>

        <tr style='border-top: 0px'>
            <th>Name</th>
            <td>{{user.name}} {{user.surname}}</td>
        </tr>
        <tr>
            <th>Email</th>
            <td>{{user.email}}</td>
        </tr>

        <tr>
            <th>Roles</th>
            <td>
                <span
                    *ngFor="let role of user.roles | iterate"
                    class='badge badge-info' style='margin-right:3px;'>
                    {{role.value}}
                </span>
            </td>
        </tr>
        
        <ngx-spinner></ngx-spinner>

		<ng-container *ngFor="let row of user | iterate: ['uuid']">
            <ng-container *ngIf="['name', 'surname', 'email', 'password', 'roles'].indexOf(row.key) < 0" [ngSwitch]="row.key">

                <tr *ngSwitchCase="'group'">
                    <th>Group</th>
                    <td>{{row.value['fullname']}}</td>
                </tr>

                <tr *ngSwitchCase="'isAdmin'">
                    <th>Administrator</th>
                    <td [innerHTML]="row.value | boolean_flag" (click)='show()'></td>
                </tr>

                <tr *ngSwitchCase="'isLocalAdmin'">
                    <th>Local Administrator</th>
                    <td [innerHTML]="row.value | boolean_flag"></td>
                </tr>

                <tr *ngSwitchCase="'privacy_accepted'">
                    <th>Privacy Accepted</th>
                    <td [innerHTML]="row.value | boolean_flag"></td>
                </tr>

                <tr *ngSwitchCase="'status'">
                    <th>Account status</th>
                    <td>{{row.value}}</td>
                </tr>

                <tr *ngSwitchDefault my-profile-row [row]="row">
                </tr>

        </ng-container>
        </ng-container>

        <tr>
        <th>Password</th>
        <td>
            <a routerLink='changepassword'>
                <i>Change your password</i>
            </a>
        </td>
        </tr>

        <tr>
        <th>Open Sessions</th>
        <td>
            <a routerLink='sessions'>
                <i>View list of your open sessions</i>
            </a>
        </td>
        </tr>

    </table>
</div>
</div>

</div>

</div>
</div>
</div>